{"openapi":"3.1.0","info":{"title":"Sieve API","version":"0.1.0"},"paths":{"/v2/functions/{owner_name}/{function_name}":{"get":{"summary":"Get Function","description":"Get information about the given function.","operationId":"get_function","parameters":[{"description":"The owner of the function.","required":true,"schema":{"type":"string","title":"Owner Name","description":"The owner of the function."},"example":"sieve","name":"owner_name","in":"path"},{"description":"The name of the function.","required":true,"schema":{"type":"string","title":"Function Name","description":"The name of the function."},"example":"retalker","name":"function_name","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FunctionApp"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/v2/functions/{owner_name}/{function_name}/versions":{"get":{"summary":"Get Function Versions","description":"Get all versions of the given function.","operationId":"get_function_versions","parameters":[{"description":"The owner of the function.","required":true,"schema":{"type":"string","title":"Owner Name","description":"The owner of the function."},"example":"sieve","name":"owner_name","in":"path"},{"description":"The name of the function.","required":true,"schema":{"type":"string","title":"Function Name","description":"The name of the function."},"example":"retalker","name":"function_name","in":"path"},{"description":"The maximum amount of versions to show.","required":false,"schema":{"type":"integer","title":"Limit","description":"The maximum amount of versions to show.","default":10000},"name":"limit","in":"query"},{"description":"Exclude the first N versions.","required":false,"schema":{"type":"integer","title":"Offset","description":"Exclude the first N versions.","default":0},"name":"offset","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/Version"},"type":"array","title":"Response Get Function Versions V2 Functions  Owner Name   Function Name  Versions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/v2/functions/{owner_name}/{function_name}/versions/{version_id}":{"get":{"summary":"Get Function Version","description":"Get information about a specific version of the given function.","operationId":"get_function_version","parameters":[{"description":"The owner of the function.","required":true,"schema":{"type":"string","title":"Owner Name","description":"The owner of the function."},"example":"sieve","name":"owner_name","in":"path"},{"description":"The name of the function.","required":true,"schema":{"type":"string","title":"Function Name","description":"The name of the function."},"example":"retalker","name":"function_name","in":"path"},{"description":"The ID of the function version.","required":true,"schema":{"type":"string","title":"Version Id","description":"The ID of the function version."},"example":"41b83e76-0a13-4d96-b0a0-7cd62c9977c3","name":"version_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Version"}}}},"404":{"description":"Function version not found."},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/v2/functions/{owner_name}/{function_name}/jobs":{"get":{"summary":"List Function Jobs","description":"List all jobs for the given function.","operationId":"list_function_jobs","parameters":[{"description":"The owner of the function.","required":true,"schema":{"type":"string","title":"Owner Name","description":"The owner of the function."},"example":"sieve","name":"owner_name","in":"path"},{"description":"The name of the function.","required":true,"schema":{"type":"string","title":"Function Name","description":"The name of the function."},"example":"retalker","name":"function_name","in":"path"},{"description":"The maximum amount of jobs to show.","required":false,"schema":{"type":"integer","title":"Limit","description":"The maximum amount of jobs to show.","default":10000},"name":"limit","in":"query"},{"description":"Exclude the first N jobs.","required":false,"schema":{"type":"integer","title":"Offset","description":"Exclude the first N jobs.","default":0},"name":"offset","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListFunctionJobsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/v2/jobs/{job_id}":{"get":{"summary":"Get Job","description":"Get a specific job by its ID.","operationId":"get_job","parameters":[{"description":"The ID of the job.","required":true,"schema":{"type":"string","title":"Job Id","description":"The ID of the job."},"example":"43d7add5-61cf-44ad-aac8-c5d14c642bb4","name":"job_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Job"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]},"delete":{"summary":"Cancel Job","description":"Cancels a running job.","operationId":"cancel_job","parameters":[{"description":"The ID of the job.","required":true,"schema":{"type":"string","title":"Job Id","description":"The ID of the job."},"example":"43d7add5-61cf-44ad-aac8-c5d14c642bb4","name":"job_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Status"}}}},"404":{"description":"Job not found."},"400":{"description":"Job is not processing, cannot be cancelled."},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/v2/jobs":{"get":{"summary":"List Jobs","description":"List all jobs in your organization.","operationId":"list_jobs","parameters":[{"description":"The maximum amount of jobs to show.","required":false,"schema":{"type":"integer","title":"Limit","description":"The maximum amount of jobs to show.","default":500},"name":"limit","in":"query"},{"description":"Exclude the first N jobs.","required":false,"schema":{"type":"integer","title":"Offset","description":"Exclude the first N jobs.","default":0},"name":"offset","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/v2/push":{"post":{"summary":"Create New Job","description":"Creates a new job.","operationId":"create_new_job","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PushRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PushResponse"}}}},"402":{"description":"The Sieve account has ran out of credits and not provided a payment method."},"404":{"description":"The function or workflow cannot be found."},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}}},"components":{"schemas":{"EnvironmentVariable":{"properties":{"name":{"type":"string","title":"Name","description":"The name of the environment variables"},"description":{"type":"string","title":"Description","description":"The description of the environment variables"},"default":{"type":"string","title":"Default","description":"Default value of the environment variable"}},"type":"object","required":["name"],"title":"EnvironmentVariable"},"FunctionApp":{"properties":{"name":{"type":"string","title":"Name","description":"The name of the function"},"owner_name":{"type":"string","title":"Owner Name","description":"The owner name of the function"},"visibility":{"type":"string","title":"Visibility","description":"The visibility of the function"},"title":{"type":"string","title":"Title","description":"The title of the function"},"code_url":{"type":"string","title":"Code Url","description":"The link to the code of the function"},"description":{"type":"string","title":"Description","description":"The description of the function"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags","description":"The tags of the function"},"cover_image_url":{"type":"string","title":"Cover Image Url","description":"The url of the function's cover image"},"examples":{"items":{"type":"string"},"type":"array","title":"Examples","description":"An array of job ids that the function playground will use as an example","default":[]},"readme":{"type":"string","title":"Readme","description":"The readme of the function"},"latest_version":{"allOf":[{"$ref":"#/components/schemas/Version"}],"title":"Latest Version","description":"The latest version of the function"},"featured_key":{"type":"integer","title":"Featured Key","description":"The featured key of the function"},"function_type":{"type":"string","enum":["function","workflow"],"title":"Function Type","description":"The type of the function, either a simple function or a workflow"},"webhooks":{"items":{"$ref":"#/components/schemas/WebhookModel"},"type":"array","title":"Webhooks","description":"The webhooks associated with the function"}},"type":"object","required":["name","owner_name","visibility","title","latest_version"],"title":"FunctionApp"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"InputOutput":{"properties":{"type":{"type":"string","title":"Type","description":"The type of the output, see all possible values [here](https://docs.sievedata.com/guide/custom-apps/typing-and-metadata)"},"name":{"type":"string","title":"Name","description":"The name of the output"},"data":{"title":"Data","description":"The data of the output. Empty if the response is not from a job"},"description":{"type":"string","title":"Description","description":"The description of the output"},"schema":{"title":"Schema"}},"type":"object","required":["type"],"title":"InputOutput"},"Job":{"properties":{"id":{"type":"string","title":"Id","description":"The id of the job."},"function_id":{"type":"string","title":"Function Id","description":"The id of the function that the job belongs to. This can be the first 7 characters of the full id."},"function":{"allOf":[{"$ref":"#/components/schemas/FunctionApp"}],"title":"Function","description":"The name of the function that the job belongs to."},"status":{"type":"string","title":"Status","description":"The status of the job. Possible values: 'queued', 'processing', 'error', 'finished', 'cancelled'"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"The time the job was created."},"started_at":{"type":"string","format":"date-time","title":"Started At","description":"The time the job started processing by the function."},"completed_at":{"type":"string","format":"date-time","title":"Completed At","description":"The time the job was completed."},"inputs":{"type":"object","title":"Inputs","description":"Show child attributes"},"outputs":{"items":{"anyOf":[{"$ref":"#/components/schemas/InputOutput"},{"items":{"$ref":"#/components/schemas/InputOutput"},"type":"array"}]},"type":"array","title":"Outputs","description":"Show child attributes"},"error":{"type":"string","title":"Error","description":"The error that the job ran into. Empty string if there's no error."},"visibility":{"type":"string","title":"Visibility","description":"\"public\" or \"private\"."},"run_id":{"type":"string","title":"Run Id","description":"The run_id of the job."},"children":{"additionalProperties":{"items":{},"type":"array"},"type":"object","title":"Children","description":"Child attributes"}},"type":"object","required":["id","function_id","status","inputs","visibility"],"title":"Job"},"ListFunctionJobsResponse":{"properties":{"data":{"items":{"$ref":"#/components/schemas/Job"},"type":"array","title":"Data"},"next_offset":{"type":"integer","title":"Next Offset"}},"type":"object","required":["data","next_offset"],"title":"ListFunctionJobsResponse"},"PushRequest":{"properties":{"function":{"type":"string","title":"Function","description":"The name of the function, in the format of `author/name[:version]`. Either `function` or `id` may be specified, but not both.","example":"sieve/retalker"},"id":{"type":"string","title":"Id","description":"The ID of the function to be called.","example":"43d7add5-61cf-44ad-aac8-c5d14c642bb4"},"inputs":{"type":"object","title":"Inputs","description":"The inputs to the job — read more about inputs [here](https://docs.sievedata.com/guide/sieve/inputs-and-outputs).","example":{"input1":"a","input2":"b"}},"webhooks":{"items":{"$ref":"#/components/schemas/WebhookModel"},"type":"array","title":"Webhooks","description":"Webhooks — see more info [here](https://docs.sievedata.com/guide/custom-apps/using-webhooks)."},"env":{"additionalProperties":{"type":"string"},"type":"object","title":"Env","description":"Environment variables for the given job.","example":{"OPENAI_API_KEY":"..."}}},"type":"object","required":["inputs"],"title":"PushRequest","description":"Input schema for /v2/push."},"PushResponse":{"properties":{"id":{"type":"string","title":"Id","description":"The ID of the job."},"stream_output":{"type":"boolean","title":"Stream Output","description":"Whether the output will be streamed."},"status":{"$ref":"#/components/schemas/Status"},"organization_id":{"type":"string","title":"Organization Id","description":"The ID of the organization."},"model_id":{"type":"string","title":"Model Id","description":"The ID of the model."},"workflow_id":{"type":"string","title":"Workflow Id","description":"The ID of the workflow."}},"type":"object","required":["id","stream_output","status","organization_id","model_id"],"title":"PushResponse","description":"Output schema for /v2/push."},"Status":{"properties":{"message":{"type":"string","title":"Message","description":"Description of the event"}},"type":"object","required":["message"],"title":"Status"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"Version":{"properties":{"id":{"type":"string","title":"Id","description":"Id of the model"},"build_status":{"type":"string","title":"Build Status","description":"Build status of the function version. Statuses are 'queued', 'building', 'pushing', 'deploying', 'ready', 'error'"},"queued_at":{"type":"string","format":"date-time","title":"Queued At","description":"The time that the function build is queued"},"built_at":{"type":"string","format":"date-time","title":"Built At","description":"The time that the function build finished building"},"ready_at":{"type":"string","format":"date-time","title":"Ready At","description":"The time that the model is ready to process jobs"},"compute_type":{"type":"string","title":"Compute Type","description":"Machine type to use. See possible values for GPU machine types"},"python_packages":{"items":{"type":"string"},"type":"array","title":"Python Packages","description":"An array of the model's python pip packages"},"system_packages":{"items":{"type":"string"},"type":"array","title":"System Packages","description":"An array of the model's system packages"},"cuda_version":{"type":"string","title":"Cuda Version","description":"Cuda Version"},"gpu":{"type":"boolean","title":"Gpu","description":"Whether this model uses gpu"},"minimum_replicas":{"type":"integer","title":"Minimum Replicas","description":"The minimum number of replicas of the model. Scale your model's minimum replicas to avoid cold starts"},"maximum_replicas":{"type":"integer","title":"Maximum Replicas","description":"The maximum number of replicas of the model. Prevents model replicas from scaling beyond a certain point"},"inputs":{"items":{"$ref":"#/components/schemas/InputOutput"},"type":"array","title":"Inputs","description":"The inputs to a function"},"outputs":{"items":{"$ref":"#/components/schemas/InputOutput"},"type":"array","title":"Outputs","description":"The outputs to a function"},"current_workers":{"allOf":[{"$ref":"#/components/schemas/WorkerCounts"}],"title":"Current Workers","description":"The current number and status of the model's workers"},"environment_variables":{"anyOf":[{"items":{"$ref":"#/components/schemas/EnvironmentVariable"},"type":"array"},{}],"title":"Environment Variables","description":"The outputs to a function"},"stream_output":{"type":"boolean","title":"Stream Output","description":"Stream output"},"function_dependencies":{"items":{"type":"string"},"type":"array","title":"Function Dependencies","description":"Function dependencies"}},"type":"object","required":["id","build_status","compute_type","python_packages","system_packages","gpu","minimum_replicas","inputs","outputs","stream_output","function_dependencies"],"title":"Version"},"WebhookModel":{"properties":{"type":{"type":"string","enum":["job_start","job_complete"],"title":"Type"},"url":{"type":"string","maxLength":2083,"minLength":1,"format":"uri","title":"Url"}},"type":"object","required":["type","url"],"title":"WebhookModel"},"WorkerCounts":{"properties":{"starting":{"type":"integer","title":"Starting","description":"The number of workers that are in the process of being started. This means that the worker has been allocated resources on the Sieve cloud, but is still in the process of creating the environment in which the model runs."},"setup":{"type":"integer","title":"Setup","description":"The number of workers that are in the process of running the setup function."},"active":{"type":"integer","title":"Active","description":"The number of workers that are actively running a prediction."},"idle":{"type":"integer","title":"Idle","description":"The number of workers that have fully setup, but are not currently running a prediction."},"awaiting_resources":{"type":"integer","title":"Awaiting Resources","description":"The number of workers that are still waiting for resources on the Sieve cloud."}},"type":"object","title":"WorkerCounts","description":"The current number and status of the model's workers."}},"securitySchemes":{"APIKeyHeader":{"type":"apiKey","description":"The Sieve API key to authenticate with.","in":"header","name":"X-API-Key"}}}}