{"openapi":"3.1.0","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/v2/functions/{owner_name}/{function_name}":{"get":{"summary":"Get Function","description":"Get information about the given function.","operationId":"get_function_v2_functions__owner_name___function_name__get","parameters":[{"description":"The owner of the function.","required":true,"schema":{"type":"string","title":"Owner Name","description":"The owner of the function."},"example":"sieve","name":"owner_name","in":"path"},{"description":"The name of the function.","required":true,"schema":{"type":"string","title":"Function Name","description":"The name of the function."},"example":"retalker","name":"function_name","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FunctionApp"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/v2/functions/{owner_name}/{function_name}/versions":{"get":{"summary":"Get Function Versions","description":"Get all versions of the given function.","operationId":"get_function_versions_v2_functions__owner_name___function_name__versions_get","parameters":[{"description":"The owner of the function.","required":true,"schema":{"type":"string","title":"Owner Name","description":"The owner of the function."},"example":"sieve","name":"owner_name","in":"path"},{"description":"The name of the function.","required":true,"schema":{"type":"string","title":"Function Name","description":"The name of the function."},"example":"retalker","name":"function_name","in":"path"},{"description":"The maximum amount of versions to show.","required":false,"schema":{"type":"integer","title":"Limit","description":"The maximum amount of versions to show.","default":10000},"name":"limit","in":"query"},{"description":"Exclude the first N versions.","required":false,"schema":{"type":"integer","title":"Offset","description":"Exclude the first N versions.","default":0},"name":"offset","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/Version"},"type":"array","title":"Response Get Function Versions V2 Functions  Owner Name   Function Name  Versions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/v2/functions/{owner_name}/{function_name}/versions/{version_id}":{"get":{"summary":"Get Function Version","description":"Get information about a specific version of the given function.","operationId":"get_function_version_v2_functions__owner_name___function_name__versions__version_id__get","parameters":[{"description":"The owner of the function.","required":true,"schema":{"type":"string","title":"Owner Name","description":"The owner of the function."},"example":"sieve","name":"owner_name","in":"path"},{"description":"The name of the function.","required":true,"schema":{"type":"string","title":"Function Name","description":"The name of the function."},"example":"retalker","name":"function_name","in":"path"},{"required":true,"schema":{"type":"string","title":"Version Id"},"name":"version_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Version"}}}},"404":{"description":"Function version not found."},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/v2/functions/{owner_name}/{function_name}/jobs":{"get":{"summary":"List Function Jobs","description":"List all jobs for the given function.","operationId":"list_function_jobs_v2_functions__owner_name___function_name__jobs_get","parameters":[{"description":"The owner of the function.","required":true,"schema":{"type":"string","title":"Owner Name","description":"The owner of the function."},"example":"sieve","name":"owner_name","in":"path"},{"description":"The name of the function.","required":true,"schema":{"type":"string","title":"Function Name","description":"The name of the function."},"example":"retalker","name":"function_name","in":"path"},{"description":"The maximum amount of jobs to show.","required":false,"schema":{"type":"integer","title":"Limit","description":"The maximum amount of jobs to show.","default":10000},"name":"limit","in":"query"},{"description":"Exclude the first N jobs.","required":false,"schema":{"type":"integer","title":"Offset","description":"Exclude the first N jobs.","default":0},"name":"offset","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListFunctionJobsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/v2/jobs/{job_id}":{"get":{"summary":"Get Job","description":"Get a specific job by its ID.","operationId":"get_job_v2_jobs__job_id__get","parameters":[{"description":"The ID of the job.","required":true,"schema":{"type":"string","title":"Job Id","description":"The ID of the job."},"example":"43d7add5-61cf-44ad-aac8-c5d14c642bb4","name":"job_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Job"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]},"delete":{"summary":"Cancel Job","description":"Cancels a running job.","operationId":"cancel_job_v2_jobs__job_id__delete","parameters":[{"description":"The ID of the job.","required":true,"schema":{"type":"string","title":"Job Id","description":"The ID of the job."},"example":"43d7add5-61cf-44ad-aac8-c5d14c642bb4","name":"job_id","in":"path"}],"responses":{"204":{"description":"Successful Response"},"404":{"description":"Job not found."},"400":{"description":"Job is not processing, cannot be cancelled."},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/v2/jobs":{"get":{"summary":"List Jobs","description":"List all jobs in your organization.","operationId":"list_jobs_v2_jobs_get","parameters":[{"description":"The maximum amount of jobs to show.","required":false,"schema":{"type":"integer","title":"Limit","description":"The maximum amount of jobs to show.","default":500},"name":"limit","in":"query"},{"description":"Exclude the first N jobs.","required":false,"schema":{"type":"integer","title":"Offset","description":"Exclude the first N jobs.","default":0},"name":"offset","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/v2/push":{"post":{"summary":"Create New Job","description":"Creates a new job.","operationId":"create_new_job_v2_push_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PushRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PushResponse"}}}},"402":{"description":"The Sieve account has ran out of credits and not provided a payment method."},"404":{"description":"The function or workflow cannot be found."},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}}},"components":{"schemas":{"EnvironmentVariable":{"properties":{"name":{"type":"string","title":"Name"},"description":{"type":"string","title":"Description"},"default":{"type":"string","title":"Default"}},"type":"object","required":["name"],"title":"EnvironmentVariable"},"FunctionApp":{"properties":{"name":{"type":"string","title":"Name"},"owner_name":{"type":"string","title":"Owner Name"},"visibility":{"type":"string","title":"Visibility"},"title":{"type":"string","title":"Title"},"code_url":{"type":"string","title":"Code Url"},"description":{"type":"string","title":"Description"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags","default":[]},"cover_image_url":{"type":"string","title":"Cover Image Url"},"examples":{"items":{"type":"string"},"type":"array","title":"Examples","default":[]},"readme":{"type":"string","title":"Readme"},"latest_version":{"$ref":"#/components/schemas/Version"},"featured_key":{"type":"integer","title":"Featured Key"},"function_type":{"type":"string","enum":["function","workflow"],"title":"Function Type"},"webhooks":{"items":{"$ref":"#/components/schemas/WebhookModel"},"type":"array","title":"Webhooks"}},"type":"object","required":["name","owner_name","visibility","title","latest_version"],"title":"FunctionApp"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"InputOutput":{"properties":{"type":{"anyOf":[{"type":"string"},{}],"title":"Type"},"name":{"type":"string","title":"Name"},"data":{"title":"Data"},"description":{"type":"string","title":"Description"},"schema":{"title":"Schema"}},"type":"object","title":"InputOutput"},"Job":{"properties":{"id":{"type":"string","title":"Id"},"function_id":{"type":"string","title":"Function Id"},"function":{"$ref":"#/components/schemas/FunctionApp"},"status":{"type":"string","title":"Status"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"started_at":{"type":"string","format":"date-time","title":"Started At"},"completed_at":{"type":"string","format":"date-time","title":"Completed At"},"inputs":{"type":"object","title":"Inputs"},"outputs":{"items":{"anyOf":[{"$ref":"#/components/schemas/InputOutput"},{"items":{"$ref":"#/components/schemas/InputOutput"},"type":"array"}]},"type":"array","title":"Outputs"},"error":{"type":"string","title":"Error","default":""},"visibility":{"type":"string","title":"Visibility"},"run_id":{"type":"string","title":"Run Id"},"children":{"additionalProperties":{"items":{},"type":"array"},"type":"object","title":"Children"}},"type":"object","required":["id","function_id","status","inputs","visibility"],"title":"Job"},"ListFunctionJobsResponse":{"properties":{"data":{"items":{"$ref":"#/components/schemas/Job"},"type":"array","title":"Data"},"next_offset":{"type":"integer","title":"Next Offset"}},"type":"object","required":["data","next_offset"],"title":"ListFunctionJobsResponse"},"PushRequest":{"properties":{"function":{"type":"string","title":"Function","description":"The name of the function, in the format of `author/name[:version]`. Either `function` or `id` may be specified, but not both.","example":"sieve/retalker"},"id":{"type":"string","title":"Id","description":"The ID of the function to be called.","example":"43d7add5-61cf-44ad-aac8-c5d14c642bb4"},"inputs":{"type":"object","title":"Inputs","description":"The inputs to the job.","example":{"foo":"bar","bax":"baz"}},"webhooks":{"items":{"$ref":"#/components/schemas/WebhookModel"},"type":"array","title":"Webhooks","description":"Webhooks. See more info at https://docs.sievedata.com/guide/custom-apps/using-webhooks."},"env":{"additionalProperties":{"type":"string"},"type":"object","title":"Env","description":"Environment variables for the given job.","example":{"OPENAI_API_KEY":"..."}}},"type":"object","required":["inputs"],"title":"PushRequest","description":"Input schema for /v2/push."},"PushResponse":{"properties":{"id":{"type":"string","title":"Id"},"run_id":{"type":"string","title":"Run Id"},"stream_output":{"type":"string","title":"Stream Output"},"status":{"type":"string","title":"Status"},"organization_id":{"type":"string","title":"Organization Id"},"model_id":{"type":"string","title":"Model Id"},"workflow_id":{"type":"string","title":"Workflow Id"}},"type":"object","required":["id","run_id","stream_output","status","organization_id","model_id"],"title":"PushResponse","description":"Output schema for /v2/push."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"Version":{"properties":{"id":{"type":"string","title":"Id"},"build_status":{"type":"string","title":"Build Status"},"queued_at":{"type":"string","format":"date-time","title":"Queued At"},"built_at":{"type":"string","format":"date-time","title":"Built At"},"ready_at":{"type":"string","format":"date-time","title":"Ready At"},"compute_type":{"type":"string","title":"Compute Type"},"python_version":{"type":"string","title":"Python Version"},"python_packages":{"items":{"type":"string"},"type":"array","title":"Python Packages","default":[]},"system_packages":{"items":{"type":"string"},"type":"array","title":"System Packages","default":[]},"cuda_version":{"type":"string","title":"Cuda Version"},"gpu":{"type":"string","title":"Gpu"},"split":{"type":"integer","title":"Split"},"minimum_replicas":{"type":"integer","title":"Minimum Replicas"},"maximum_replicas":{"type":"integer","title":"Maximum Replicas"},"current_workers":{"$ref":"#/components/schemas/WorkerCounts"},"inputs":{"items":{"$ref":"#/components/schemas/InputOutput"},"type":"array","title":"Inputs"},"outputs":{"items":{"$ref":"#/components/schemas/InputOutput"},"type":"array","title":"Outputs"},"environment_variables":{"anyOf":[{"items":{"$ref":"#/components/schemas/EnvironmentVariable"},"type":"array"},{}],"title":"Environment Variables","default":[]},"stream_output":{"type":"boolean","title":"Stream Output","default":false},"function_dependencies":{"items":{"type":"string"},"type":"array","title":"Function Dependencies"}},"type":"object","required":["id","build_status","compute_type","gpu","split","minimum_replicas","inputs","outputs","function_dependencies"],"title":"Version"},"WebhookModel":{"properties":{"type":{"type":"string","enum":["job_start","job_complete"],"title":"Type"},"url":{"type":"string","maxLength":2083,"minLength":1,"format":"uri","title":"Url"}},"type":"object","required":["type","url"],"title":"WebhookModel"},"WorkerCounts":{"properties":{"starting":{"type":"integer","title":"Starting"},"setup":{"type":"integer","title":"Setup"},"active":{"type":"integer","title":"Active"},"idle":{"type":"integer","title":"Idle"},"awaiting_resources":{"type":"integer","title":"Awaiting Resources"}},"type":"object","title":"WorkerCounts"}},"securitySchemes":{"APIKeyHeader":{"type":"apiKey","description":"The Sieve API key to authenticate with.","in":"header","name":"X-API-Key"}}}}